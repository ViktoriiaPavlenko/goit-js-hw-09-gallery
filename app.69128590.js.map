{"version":3,"sources":["app.js"],"names":["galleryItems","preview","original","description","galleryRef","document","querySelector","lightboxRef","overlayRef","imageRef","closeButtonRef","galleryList","createList","map","join","setImageAttr","src","alt","setAttribute","onOpenModal","event","preventDefault","target","nodeName","classList","add","dataset","source","window","addEventListener","onEscKeyPress","handleKeydown","onCloseModal","remove","removeEventListener","code","currentIndex","findIndex","img","nextIndex","previousIndex","length","insertAdjacentHTML"],"mappings":";AAAA,MAAMA,EAAe,CACnB,CACEC,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBAIXC,EAAaC,SAASC,cAAc,eACpCC,EAAcF,SAASC,cAAc,gBACrCE,EAAaH,SAASC,cAAc,sBACpCG,EAAWJ,SAASC,cAAc,oBAClCI,EAAiBL,SAASC,cAAc,qBAExCK,EAAcC,IAGpB,SAASA,IACAZ,OAAAA,EACJa,IAAI,EAAGZ,QAAAA,EAASC,SAAAA,EAAUC,YAAAA,6EAGMD,6CACED,wBACpBC,WAAkBC,wBAGhCW,KAAK,IAGV,SAASC,EAAaC,EAAKC,GACzBR,EAASS,aAAa,MAAOF,GAC7BP,EAASS,aAAa,MAAOD,GAK/B,SAASE,EAAYC,GACnBA,EAAMC,iBAEwB,QAA1BD,EAAME,OAAOC,WAIjBhB,EAAYiB,UAAUC,IAAI,WAE1BV,EACEK,EAAME,OAAOI,QAAQC,OACrBP,EAAME,OAAOL,KAGfW,OAAOC,iBAAiB,UAAWC,GACnCF,OAAOC,iBAAiB,UAAWE,IAMrC,SAASC,EAAaZ,GACpBb,EAAYiB,UAAUS,OAAO,WAE7BlB,EAAa,IAAK,IAElBa,OAAOM,oBAAoB,UAAWJ,GACtCF,OAAOM,oBAAoB,UAAWH,GAGxC,SAASD,EAAcV,GACF,WAAfA,EAAMe,MACRH,IAIJ,SAASD,EAAcX,GACjBgB,IAAAA,EAAepC,EAAaqC,UAC9BC,GAAOA,EAAIpC,WAAaO,EAASO,KAG/BuB,EAAYH,EAAe,EAC3BI,EAAgBJ,EAAe,EAChB,eAAfhB,EAAMe,OACJI,GAAavC,EAAayC,SAC5BF,EAAY,GAEd9B,EAASO,IAAMhB,EAAauC,GAAWrC,UAEtB,cAAfkB,EAAMe,OACJK,EAAgB,IAClBA,EAAgBxC,EAAayC,OAAS,GAExChC,EAASO,IAAMhB,EAAawC,GAAetC,UA3E/CE,EAAWsC,mBAAmB,YAAa/B,GAoB3CP,EAAWyB,iBAAiB,QAASV,GAoBrCT,EAAemB,iBAAiB,QAASG,GACzCxB,EAAWqB,iBAAiB,QAASG","file":"app.69128590.js","sourceRoot":"..\\src","sourcesContent":["const galleryItems = [\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\r\n    description: 'Hokkaido Flower',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\r\n    description: 'Container Haulage Freight',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\r\n    description: 'Aerial Beach View',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\r\n    description: 'Flower Blooms',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\r\n    description: 'Alpine Mountains',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\r\n    description: 'Mountain Lake Sailing',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\r\n    description: 'Alpine Spring Meadows',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\r\n    description: 'Nature Landscape',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\r\n    description: 'Lighthouse Coast Sea',\r\n  },\r\n];\r\n\r\nconst galleryRef = document.querySelector('.js-gallery')\r\nconst lightboxRef = document.querySelector('.js-lightbox')\r\nconst overlayRef = document.querySelector('.lightbox__overlay')\r\nconst imageRef = document.querySelector('.lightbox__image')\r\nconst closeButtonRef = document.querySelector('.lightbox__button')\r\n\r\nconst galleryList = createList()\r\ngalleryRef.insertAdjacentHTML('beforeend', galleryList);\r\n\r\nfunction createList() {\r\n  return galleryItems\r\n    .map(({ preview, original, description }) => {\r\n      return `\r\n    <li class=\"gallery__item\">\r\n    <a class=\"gallery__link\" href=\"${original}\">\r\n    <img class=\"gallery__image\" src=\"${preview}\"\r\n    data-source=\"${original}\" alt=\"${description}\" />\r\n    </a></li>`;\r\n    })\r\n    .join('');\r\n}\r\n\r\nfunction setImageAttr(src, alt) {\r\n  imageRef.setAttribute(\"src\", src);\r\n  imageRef.setAttribute(\"alt\", alt);\r\n}\r\n\r\ngalleryRef.addEventListener('click', onOpenModal);\r\n\r\nfunction onOpenModal(event) {\r\n  event.preventDefault();\r\n  \r\n  if (event.target.nodeName !== 'IMG') {\r\n    return;\r\n  }\r\n\r\n  lightboxRef.classList.add('is-open');\r\n\r\n  setImageAttr(\r\n    event.target.dataset.source,\r\n    event.target.alt\r\n  );\r\n\r\n  window.addEventListener('keydown', onEscKeyPress);\r\n  window.addEventListener('keydown', handleKeydown);\r\n}\r\n\r\ncloseButtonRef.addEventListener('click', onCloseModal);\r\noverlayRef.addEventListener('click', onCloseModal);\r\n\r\nfunction onCloseModal(event) {\r\n  lightboxRef.classList.remove('is-open');\r\n  \r\n  setImageAttr(\" \", \"\");\r\n\r\n  window.removeEventListener('keydown', onEscKeyPress);\r\n  window.removeEventListener('keydown', handleKeydown);\r\n}\r\n\r\nfunction onEscKeyPress(event) {\r\n  if (event.code === 'Escape') {\r\n    onCloseModal();\r\n  }\r\n}\r\n\r\nfunction handleKeydown(event) {\r\n  let currentIndex = galleryItems.findIndex(\r\n    img => img.original === imageRef.src,\r\n  );\r\n  \r\n  let nextIndex = currentIndex + 1;\r\n  let previousIndex = currentIndex - 1;\r\n  if (event.code === 'ArrowRight') {\r\n    if (nextIndex >= galleryItems.length) {\r\n      nextIndex = 0;\r\n    }\r\n    imageRef.src = galleryItems[nextIndex].original;\r\n  }\r\n  if (event.code === 'ArrowLeft') {\r\n    if (previousIndex < 0) {\r\n      previousIndex = galleryItems.length - 1;\r\n    }\r\n    imageRef.src = galleryItems[previousIndex].original;\r\n  }\r\n}\r\n"]}